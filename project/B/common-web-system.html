<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zohnnyå‰ç«¯å°å†Œ</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Zohnnyå‰ç«¯å°å†Œ">
    
    <link rel="preload" href="/assets/css/0.styles.9a0b0289.css" as="style"><link rel="preload" href="/assets/js/app.e8c3aa62.js" as="script"><link rel="preload" href="/assets/js/2.1d5e0d04.js" as="script"><link rel="preload" href="/assets/js/18.5e0519af.js" as="script"><link rel="prefetch" href="/assets/js/10.0bc17075.js"><link rel="prefetch" href="/assets/js/100.194dcfa0.js"><link rel="prefetch" href="/assets/js/101.f8977d49.js"><link rel="prefetch" href="/assets/js/102.68d460f2.js"><link rel="prefetch" href="/assets/js/103.3ac580e7.js"><link rel="prefetch" href="/assets/js/104.9d4751c7.js"><link rel="prefetch" href="/assets/js/105.a5f0c700.js"><link rel="prefetch" href="/assets/js/106.e56dcf3c.js"><link rel="prefetch" href="/assets/js/107.1f1c30b4.js"><link rel="prefetch" href="/assets/js/108.68ca0fc6.js"><link rel="prefetch" href="/assets/js/109.50ce68c2.js"><link rel="prefetch" href="/assets/js/11.979bcc85.js"><link rel="prefetch" href="/assets/js/110.f56975a0.js"><link rel="prefetch" href="/assets/js/111.52d900c7.js"><link rel="prefetch" href="/assets/js/112.00424531.js"><link rel="prefetch" href="/assets/js/113.ea237985.js"><link rel="prefetch" href="/assets/js/114.57f07f83.js"><link rel="prefetch" href="/assets/js/115.ec061508.js"><link rel="prefetch" href="/assets/js/116.944ac05b.js"><link rel="prefetch" href="/assets/js/117.51a3bd3d.js"><link rel="prefetch" href="/assets/js/118.b1708a32.js"><link rel="prefetch" href="/assets/js/119.547f729e.js"><link rel="prefetch" href="/assets/js/12.f7837a85.js"><link rel="prefetch" href="/assets/js/120.77b77710.js"><link rel="prefetch" href="/assets/js/121.a6f28bc6.js"><link rel="prefetch" href="/assets/js/13.8e015820.js"><link rel="prefetch" href="/assets/js/14.34a558be.js"><link rel="prefetch" href="/assets/js/15.60fac476.js"><link rel="prefetch" href="/assets/js/16.be05c3ca.js"><link rel="prefetch" href="/assets/js/17.f8c4932c.js"><link rel="prefetch" href="/assets/js/19.db909a84.js"><link rel="prefetch" href="/assets/js/20.8cc2df06.js"><link rel="prefetch" href="/assets/js/21.f4b0b435.js"><link rel="prefetch" href="/assets/js/22.d559c9b3.js"><link rel="prefetch" href="/assets/js/23.74ba9f22.js"><link rel="prefetch" href="/assets/js/24.2a4117e9.js"><link rel="prefetch" href="/assets/js/25.73c08c20.js"><link rel="prefetch" href="/assets/js/26.c19cc994.js"><link rel="prefetch" href="/assets/js/27.81cd809b.js"><link rel="prefetch" href="/assets/js/28.6791b309.js"><link rel="prefetch" href="/assets/js/29.391ab5ba.js"><link rel="prefetch" href="/assets/js/3.1efbb513.js"><link rel="prefetch" href="/assets/js/30.0b1d7a71.js"><link rel="prefetch" href="/assets/js/31.1f2bb083.js"><link rel="prefetch" href="/assets/js/32.cae2775b.js"><link rel="prefetch" href="/assets/js/33.1e9405be.js"><link rel="prefetch" href="/assets/js/34.9210faf9.js"><link rel="prefetch" href="/assets/js/35.2ac222fd.js"><link rel="prefetch" href="/assets/js/36.c1aa7d10.js"><link rel="prefetch" href="/assets/js/37.47ed6a00.js"><link rel="prefetch" href="/assets/js/38.0743fb65.js"><link rel="prefetch" href="/assets/js/39.f1abc33e.js"><link rel="prefetch" href="/assets/js/4.c29c9b60.js"><link rel="prefetch" href="/assets/js/40.4c2c9b8b.js"><link rel="prefetch" href="/assets/js/41.f38fd71e.js"><link rel="prefetch" href="/assets/js/42.59cc5e7a.js"><link rel="prefetch" href="/assets/js/43.54713365.js"><link rel="prefetch" href="/assets/js/44.cc7cdb87.js"><link rel="prefetch" href="/assets/js/45.cdc6ea0c.js"><link rel="prefetch" href="/assets/js/46.2ab8048b.js"><link rel="prefetch" href="/assets/js/47.f6a00ea3.js"><link rel="prefetch" href="/assets/js/48.8349de8f.js"><link rel="prefetch" href="/assets/js/49.98c2ddda.js"><link rel="prefetch" href="/assets/js/5.40944f1c.js"><link rel="prefetch" href="/assets/js/50.425c325b.js"><link rel="prefetch" href="/assets/js/51.b4870e91.js"><link rel="prefetch" href="/assets/js/52.aef0d698.js"><link rel="prefetch" href="/assets/js/53.e07d00ac.js"><link rel="prefetch" href="/assets/js/54.b7687687.js"><link rel="prefetch" href="/assets/js/55.65cf97ed.js"><link rel="prefetch" href="/assets/js/56.3444efc3.js"><link rel="prefetch" href="/assets/js/57.5377eb7e.js"><link rel="prefetch" href="/assets/js/58.e5099448.js"><link rel="prefetch" href="/assets/js/59.d09bc881.js"><link rel="prefetch" href="/assets/js/6.732df0ed.js"><link rel="prefetch" href="/assets/js/60.eba8f995.js"><link rel="prefetch" href="/assets/js/61.bd8ab09f.js"><link rel="prefetch" href="/assets/js/62.0bd4e7fc.js"><link rel="prefetch" href="/assets/js/63.640df805.js"><link rel="prefetch" href="/assets/js/64.35c8b8f7.js"><link rel="prefetch" href="/assets/js/65.affde9cb.js"><link rel="prefetch" href="/assets/js/66.9f8cabb6.js"><link rel="prefetch" href="/assets/js/67.00890bbe.js"><link rel="prefetch" href="/assets/js/68.0936ba21.js"><link rel="prefetch" href="/assets/js/69.a33cdaf9.js"><link rel="prefetch" href="/assets/js/7.31bb07dc.js"><link rel="prefetch" href="/assets/js/70.1df3e127.js"><link rel="prefetch" href="/assets/js/71.f4124ef5.js"><link rel="prefetch" href="/assets/js/72.01e6c977.js"><link rel="prefetch" href="/assets/js/73.b07f15a4.js"><link rel="prefetch" href="/assets/js/74.f72cdef2.js"><link rel="prefetch" href="/assets/js/75.ee885b7d.js"><link rel="prefetch" href="/assets/js/76.84c918df.js"><link rel="prefetch" href="/assets/js/77.a28fd7f5.js"><link rel="prefetch" href="/assets/js/78.482bfb70.js"><link rel="prefetch" href="/assets/js/79.091c9dbf.js"><link rel="prefetch" href="/assets/js/8.c0da64f7.js"><link rel="prefetch" href="/assets/js/80.df33fddc.js"><link rel="prefetch" href="/assets/js/81.6e6db080.js"><link rel="prefetch" href="/assets/js/82.e9138597.js"><link rel="prefetch" href="/assets/js/83.31c363ff.js"><link rel="prefetch" href="/assets/js/84.1e1be0f3.js"><link rel="prefetch" href="/assets/js/85.c861f43f.js"><link rel="prefetch" href="/assets/js/86.5a205712.js"><link rel="prefetch" href="/assets/js/87.d9dc3fb3.js"><link rel="prefetch" href="/assets/js/88.4297aa82.js"><link rel="prefetch" href="/assets/js/89.0a4430b5.js"><link rel="prefetch" href="/assets/js/9.0c30cda9.js"><link rel="prefetch" href="/assets/js/90.c95ae974.js"><link rel="prefetch" href="/assets/js/91.ff322a2a.js"><link rel="prefetch" href="/assets/js/92.6272aacc.js"><link rel="prefetch" href="/assets/js/93.f34792ac.js"><link rel="prefetch" href="/assets/js/94.5cd9fa78.js"><link rel="prefetch" href="/assets/js/95.4c0963b8.js"><link rel="prefetch" href="/assets/js/96.4b8520b9.js"><link rel="prefetch" href="/assets/js/97.cdf1abbd.js"><link rel="prefetch" href="/assets/js/98.4d55767c.js"><link rel="prefetch" href="/assets/js/99.0a1d65d6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9a0b0289.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zohnnyå‰ç«¯å°å†Œ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/basic/basic/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css
</a></div><div class="nav-item"><a href="/browser/theory/" class="nav-link">
  æµè§ˆå™¨ç›¸å…³
</a></div><div class="nav-item"><a href="/nodejs/" class="nav-link">
  nodejs
</a></div><div class="nav-item"><a href="/babel/" class="nav-link">
  babel
</a></div><div class="nav-item"><a href="/buildTools/webpack/" class="nav-link">
  æ‰“åŒ…å·¥å…·
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/reactive/" class="nav-link">
  å“åº”å¼
</a></li><li class="dropdown-item"><!----> <a href="/vue/compiler/" class="nav-link">
  æ¨¡ç‰ˆç¼–è¯‘
</a></li><li class="dropdown-item"><!----> <a href="/vue/vnode/" class="nav-link">
  è™šæ‹ŸDOM
</a></li><li class="dropdown-item"><!----> <a href="/vue/whole-process/" class="nav-link">
  æ•´ä½“æµç¨‹
</a></li><li class="dropdown-item"><!----> <a href="/vue/vuex/" class="nav-link">
  Vuex&amp;Vue-router
</a></li></ul></div></div><div class="nav-item"><a href="/mobile/" class="nav-link">
  ç§»åŠ¨ç«¯
</a></div><div class="nav-item"><a href="/code-reviews/" class="nav-link">
  LC
</a></div><div class="nav-item"><a href="/project/B/batch_download.html" class="nav-link">
  é¡¹ç›®
</a></div><div class="nav-item"><a href="/news/vue3.html" class="nav-link">
  å‰æ²¿
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å·¥å…·" class="mobile-dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://0zcl.github.io/utils-library/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å…¬å…±å‡½æ•°åº“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://0zcl.github.io/h5-sdk/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  h5-sdk
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/0zcl/h5_template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç§»åŠ¨ç«¯å¤šé¡µé¢æ¨¡ç‰ˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/0zcl/zcl-mobile-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç§»åŠ¨ç«¯ç»„ä»¶åº“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://gitlab.61info.com:8190/zcl/tpc-cli" target="_blank" rel="noopener noreferrer" class="nav-link external">
  zclè„šæ‰‹æ¶
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/Dachuizi-6" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/basic/basic/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><a href="/css/" class="nav-link">
  css
</a></div><div class="nav-item"><a href="/browser/theory/" class="nav-link">
  æµè§ˆå™¨ç›¸å…³
</a></div><div class="nav-item"><a href="/nodejs/" class="nav-link">
  nodejs
</a></div><div class="nav-item"><a href="/babel/" class="nav-link">
  babel
</a></div><div class="nav-item"><a href="/buildTools/webpack/" class="nav-link">
  æ‰“åŒ…å·¥å…·
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/reactive/" class="nav-link">
  å“åº”å¼
</a></li><li class="dropdown-item"><!----> <a href="/vue/compiler/" class="nav-link">
  æ¨¡ç‰ˆç¼–è¯‘
</a></li><li class="dropdown-item"><!----> <a href="/vue/vnode/" class="nav-link">
  è™šæ‹ŸDOM
</a></li><li class="dropdown-item"><!----> <a href="/vue/whole-process/" class="nav-link">
  æ•´ä½“æµç¨‹
</a></li><li class="dropdown-item"><!----> <a href="/vue/vuex/" class="nav-link">
  Vuex&amp;Vue-router
</a></li></ul></div></div><div class="nav-item"><a href="/mobile/" class="nav-link">
  ç§»åŠ¨ç«¯
</a></div><div class="nav-item"><a href="/code-reviews/" class="nav-link">
  LC
</a></div><div class="nav-item"><a href="/project/B/batch_download.html" class="nav-link">
  é¡¹ç›®
</a></div><div class="nav-item"><a href="/news/vue3.html" class="nav-link">
  å‰æ²¿
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å·¥å…·" class="mobile-dropdown-title"><span class="title">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://0zcl.github.io/utils-library/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å…¬å…±å‡½æ•°åº“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://0zcl.github.io/h5-sdk/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  h5-sdk
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/0zcl/h5_template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç§»åŠ¨ç«¯å¤šé¡µé¢æ¨¡ç‰ˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/0zcl/zcl-mobile-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç§»åŠ¨ç«¯ç»„ä»¶åº“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://gitlab.61info.com:8190/zcl/tpc-cli" target="_blank" rel="noopener noreferrer" class="nav-link external">
  zclè„šæ‰‹æ¶
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/Dachuizi-6" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Bç«¯</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/project/B/batch_download.html" class="sidebar-link">æ‰¹é‡ä¸‹è½½å›¾ç‰‡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/project/B/batch_download.html#éœ€æ±‚åœºæ™¯" class="sidebar-link">éœ€æ±‚åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/project/B/batch_download.html#ä»»åŠ¡" class="sidebar-link">ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/project/B/batch_download.html#å®ç°" class="sidebar-link">å®ç°</a></li><li class="sidebar-sub-header"><a href="/project/B/batch_download.html#ç»“æœ" class="sidebar-link">ç»“æœ</a></li><li class="sidebar-sub-header"><a href="/project/B/batch_download.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/project/B/hll-compoments.html" class="sidebar-link">ä¸šåŠ¡ç»„ä»¶åº“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/project/B/hll-compoments.html#rollupæ„å»º" class="sidebar-link">rollupæ„å»º</a></li><li class="sidebar-sub-header"><a href="/project/B/hll-compoments.html#rollupæ„å»ºä¼˜åŒ–" class="sidebar-link">rollupæ„å»ºä¼˜åŒ–</a></li><li class="sidebar-sub-header"><a href="/project/B/hll-compoments.html#ç»„ä»¶åº“åˆå§‹åŒ–" class="sidebar-link">ç»„ä»¶åº“åˆå§‹åŒ–</a></li><li class="sidebar-sub-header"><a href="/project/B/hll-compoments.html#ä½¿ç”¨ä¸šåŠ¡ç»„ä»¶åº“" class="sidebar-link">ä½¿ç”¨ä¸šåŠ¡ç»„ä»¶åº“</a></li><li class="sidebar-sub-header"><a href="/project/B/hll-compoments.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/project/B/common-utils.html" class="sidebar-link">å…¬å…±ç»„ä»¶åº“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#åœºæ™¯" class="sidebar-link">åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#å®ç°" class="sidebar-link">å®ç°</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#baselist" class="sidebar-link">baseList</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#basedialog" class="sidebar-link">baseDialog</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#axios" class="sidebar-link">axios</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#_1-axiosæºç æµ…æ" class="sidebar-link">1. axiosæºç æµ…æ</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#_2-loadingå°è£…" class="sidebar-link">2. loadingå°è£…</a></li><li class="sidebar-sub-header"><a href="/project/B/common-utils.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/project/B/sso-login.html" class="sidebar-link">å•ç‚¹ç™»å½•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/project/B/sso-login.html#åœºæ™¯" class="sidebar-link">åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/project/B/sso-login.html#å®ç°" class="sidebar-link">å®ç°</a></li><li class="sidebar-sub-header"><a href="/project/B/sso-login.html#jwt" class="sidebar-link">JWT</a></li><li class="sidebar-sub-header"><a href="/project/B/sso-login.html#é¢è¯•" class="sidebar-link">é¢è¯•</a></li></ul></li><li><a href="/project/B/common-web-system.html" aria-current="page" class="active sidebar-link">å¾®å‰ç«¯ç³»ç»Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#åœºæ™¯" class="sidebar-link">åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#å®ç°" class="sidebar-link">å®ç°</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#_1-åŠ¨æ€è·¯ç”±" class="sidebar-link">1. åŠ¨æ€è·¯ç”±</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#_2-æ¶ˆæ¯é€šä¿¡" class="sidebar-link">2. æ¶ˆæ¯é€šä¿¡</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#_3-æ³¨å†Œå­åº”ç”¨" class="sidebar-link">3. æ³¨å†Œå­åº”ç”¨</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#_4-æ¥å…¥" class="sidebar-link">4. æ¥å…¥</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#qiankun" class="sidebar-link">qiankun</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#_3-æ€ä¹ˆå¤„ç†jséš”ç¦»" class="sidebar-link">3. æ€ä¹ˆå¤„ç†JSéš”ç¦»ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/project/B/common-web-system.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç§»åŠ¨ç«¯H5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>STARï¼šSituationï¼ˆæƒ…æ™¯ï¼‰ï¼ŒTaskï¼ˆä»»åŠ¡ï¼‰ï¼ŒActionï¼ˆè¡ŒåŠ¨ï¼‰å’Œ Resultï¼ˆç»“æœï¼‰</p> <p>XXX é¡¹ç›®å‡ºç° XXX é—®é¢˜ï¼Œæˆ‘ä½œä¸º XXXï¼Œè´Ÿè´£å…¶ä¸­çš„ XXX éƒ¨åˆ†ï¼Œæˆ‘é€šè¿‡ XXX æ–¹å¼ï¼ˆæˆ–æŠ€æœ¯æ–¹æ¡ˆï¼‰æˆåŠŸè§£å†³äº†è¯¥é—®é¢˜ï¼Œä½¿ XXX æé«˜äº† XXXï¼ŒXXX å¢é•¿äº† XXX</p> <p>åœ¨é¡¹ç›®ç»å†æè¿°ä¸­ï¼Œé€šè¿‡äº¤ä»£æ¸…æ¥šä½ åœ¨å›¢é˜Ÿä¸­çš„ä½ç½®ï¼Œä»¥åŠå¤§ç•¥æè¿°ä½ åœ¨å›¢é˜Ÿä¸­èµ·åˆ°çš„ä½œç”¨</p></div> <p>å¾®å‰ç«¯ç‰¹æ€§ï¼š</p> <ul><li>ğŸ“¦ åŸºäº single-spa å°è£…ï¼Œæä¾›äº†æ›´åŠ å¼€ç®±å³ç”¨çš„ APIã€‚</li> <li>ğŸ“± æŠ€æœ¯æ ˆæ— å…³ï¼Œä»»æ„æŠ€æœ¯æ ˆçš„åº”ç”¨å‡å¯ ä½¿ç”¨/æ¥å…¥ï¼Œä¸è®ºæ˜¯ React/Vue/Angular/JQuery è¿˜æ˜¯å…¶ä»–ç­‰æ¡†æ¶ã€‚</li> <li>ğŸ’ª HTML Entry æ¥å…¥æ–¹å¼ï¼Œè®©ä½ æ¥å…¥å¾®åº”ç”¨åƒä½¿ç”¨ iframe ä¸€æ ·ç®€å•ã€‚</li> <li>ğŸ›¡â€‹ æ ·å¼éš”ç¦»ï¼Œç¡®ä¿å¾®åº”ç”¨ä¹‹é—´æ ·å¼äº’ç›¸ä¸å¹²æ‰°ã€‚</li> <li>ğŸ§³ JS æ²™ç®±ï¼Œç¡®ä¿å¾®åº”ç”¨ä¹‹é—´ å…¨å±€å˜é‡/äº‹ä»¶ ä¸å†²çªã€‚</li></ul> <p><a href="https://qiankun.umijs.org/zh/api#registermicroappsapps-lifecycles" target="_blank" rel="noopener noreferrer">qiankun<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä½¿ç”¨ï¼š</p> <ol><li>ä¸»åº”ç”¨ï¼š</li></ol> <ul><li>registerMicroApps(apps, lifeCycles?): æ³¨å†Œå¾®åº”ç”¨çš„åŸºç¡€é…ç½®ä¿¡æ¯ã€‚å½“æµè§ˆå™¨ url å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨æ£€æŸ¥æ¯ä¸€ä¸ªå¾®åº”ç”¨æ³¨å†Œçš„ activeRule è§„åˆ™ï¼Œç¬¦åˆè§„åˆ™çš„åº”ç”¨å°†ä¼šè¢«è‡ªåŠ¨æ¿€æ´»ã€‚</li> <li>start(opts?)ï¼šå¯åŠ¨ qiankun</li> <li>initGlobalState(state)ï¼šå®šä¹‰å…¨å±€çŠ¶æ€ã€‚å»ºè®®åœ¨ä¸»åº”ç”¨ä½¿ç”¨ï¼Œå¾®åº”ç”¨é€šè¿‡ props è·å–é€šä¿¡æ–¹æ³•</li></ul> <ol start="2"><li>å¾®åº”ç”¨</li></ol> <ul><li>RegistrableAppæ³¨å†Œå­åº”ç”¨æ—¶ï¼Œä½¿ç”¨propså‚æ•°ï¼Œä¸»åº”ç”¨å°†æ•°æ®ä¼ é€’ç»™å­åº”ç”¨ã€‚</li></ul> <h2 id="åœºæ™¯"><a href="#åœºæ™¯" class="header-anchor">#</a> åœºæ™¯</h2> <p>åå°é¡¹ç›®å¤šï¼Œéœ€è¦åˆ°Aé¡¹ç›®æ‰èƒ½çœ‹åˆ°A1å†…å®¹ï¼Œåˆ°Bé¡¹ç›®æ‰èƒ½çœ‹åˆ°B1å†…å®¹ã€‚ä½¿ç”¨å¾®å‰ç«¯é¡¹ç›®ç»Ÿä¸€æ¥å…¥å„ä¸ªåå°é¡¹ç›®ï¼Œé€šè¿‡é…ç½®ï¼Œèƒ½ç›´æ¥åœ¨å¾®å‰ç«¯é¡¹ç›®å¿«é€Ÿè®¿é—®å„ä¸ªåå°ä¸šåŠ¡ã€‚å¾®å‰ç«¯é¡¹ç›®ç”±è¿è¥æ”¯æ’‘éƒ¨å¼€å‘ç»´æŠ¤ï¼Œæˆ‘è´Ÿè´£cmsåå°æ¥å…¥å¾®å‰ç«¯ã€‚</p> <h2 id="å®ç°"><a href="#å®ç°" class="header-anchor">#</a> å®ç°</h2> <h2 id="_1-åŠ¨æ€è·¯ç”±"><a href="#_1-åŠ¨æ€è·¯ç”±" class="header-anchor">#</a> 1. åŠ¨æ€è·¯ç”±</h2> <p>æ ¹æ®é…ç½®ï¼Œåç«¯è¿”å›èœå•çš„æ•°æ®ã€‚ä¸€ä¸ªèœå•ä¸‹å¯ä»¥æœ‰å¤šä¸ªå­èœå•ï¼Œæ ‘å½¢ç»“æ„ã€‚<code>userShow</code>å­—æ®µè¡¨ç¤ºèœå•æ˜¯å¦æ˜¾ç¤ºã€‚</p> <details class="custom-block details"><summary>DETAILS</summary> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1612858</span><span class="token punctuation">,</span>
	<span class="token property">&quot;systemId&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
	<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;è¯¾ç¨‹ç®¡ç†&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cms_book&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;parentId&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1612859</span><span class="token punctuation">,</span>
		<span class="token property">&quot;systemId&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
		<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;è¯¾ç¨‹ç®¡ç†&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/cms/course/courseManage&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
		<span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;parentId&quot;</span><span class="token operator">:</span> <span class="token number">1612858</span><span class="token punctuation">,</span>
		<span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token property">&quot;userShow&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1612860</span><span class="token punctuation">,</span>
		<span class="token property">&quot;systemId&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
		<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”»ä½œå·¥å…·åº“&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;detail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/cms/course/drawToolLib&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
		<span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;parentId&quot;</span><span class="token operator">:</span> <span class="token number">1612858</span><span class="token punctuation">,</span>
		<span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token property">&quot;userShow&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;userShow&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div></details> <p>é€’å½’æ¸²æŸ“</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(value, index) in menuData&quot;</span><span class="token operator">&gt;</span>
  <span class="token comment">// æœ‰å­èœå•</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>submenu v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;value.modules &amp;&amp; value.modules.length &amp;&amp; isShow(value)&quot;</span> <span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;value.id&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token operator">:</span>index<span class="token operator">=</span><span class="token string">&quot;`${value.id}`&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template slot<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>menuTitle <span class="token operator">:</span>menu<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;value&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>tree<span class="token operator">-</span>menu <span class="token operator">:</span>menu<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;value.modules&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>submenu<span class="token operator">&gt;</span>
  <span class="token comment">// æ— å­èœå•</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isShow(value)&quot;</span> <span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;value.detail&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span> <span class="token operator">:</span>index<span class="token operator">=</span><span class="token string">&quot;addPathPrefix(value.detail)&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>menuTitle <span class="token operator">:</span>menu<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">&quot;value&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_2-æ¶ˆæ¯é€šä¿¡"><a href="#_2-æ¶ˆæ¯é€šä¿¡" class="header-anchor">#</a> 2. æ¶ˆæ¯é€šä¿¡</h2> <ol><li>initGlobalState. å®˜æ–¹æä¾›çš„æ¥å£.</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä¸»åº”ç”¨</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> onGlobalStateChange<span class="token punctuation">,</span> setGlobalState <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">initGlobalState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">'qiankun'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¸»åº”ç”¨ç›‘å¬æ•°æ®</span>
<span class="token function">onGlobalStateChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'[onGlobalStateChange - master]:'</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setGlobalState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token string">'master'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'master'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å­åº”ç”¨</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">storeTest</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">storeTest</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å­åº”ç”¨ç›‘å¬æ•°æ®</span>
  props<span class="token punctuation">.</span>onGlobalStateChange <span class="token operator">&amp;&amp;</span>
    props<span class="token punctuation">.</span><span class="token function">onGlobalStateChange</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[onGlobalStateChange - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> prev<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// å­åº”ç”¨ä¿®æ”¹æ•°æ®</span>
  props<span class="token punctuation">.</span>setGlobalState <span class="token operator">&amp;&amp;</span>
    props<span class="token punctuation">.</span><span class="token function">setGlobalState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">ignore</span><span class="token operator">:</span> props<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> props<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><img src="data:image/png;base64,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" alt="initGlobalState"></p> <p>çˆ¶åº”ç”¨å’Œå­åº”ç”¨éƒ½ç›‘å¬äº†<code>{ ignore: 'master', user: { name: 'master', }, }</code>å¯¹è±¡, å­åº”ç”¨ä¿®æ”¹ç›‘å¬çš„æ•°æ®, è§¦å‘äº†ä¸»åº”ç”¨å’Œå­åº”ç”¨çš„å›è°ƒ. æœ¬è´¨ä¸Šå’ŒeventEmitæ˜¯ä¸€æ ·çš„.</p> <ul><li>ä¼˜ç‚¹: æœ‰qiankunå®˜æ–¹æ”¯æŒ, ä½¿ç”¨ç®€å•</li> <li>ç¼ºç‚¹: å­åº”ç”¨éœ€è¦å…ˆäº†è§£ç›‘å¬çš„æ•°æ®æ± , å†è¿›è¡Œé€šä¿¡; å®¹æ˜“å‡ºç°çŠ¶æ€æ··ä¹±(ä¸çŸ¥é“è°æ”¹çš„æ•°æ®)</li></ul> <ol start="2"><li>çˆ¶åº”ç”¨æ³¨å†Œå­åº”ç”¨æ˜¯å¯é€šè¿‡<code>props</code>å‘å­åº”ç”¨ä¼ é€’æ•°æ®ã€‚å¯ä»¥ä¼ çˆ¶åº”ç”¨çš„storeå¯¹è±¡, ä¼ ç»™å­åº”ç”¨, å­åº”ç”¨å†è°ƒç”¨<code>store.dispatch</code>, é€šçŸ¥çˆ¶åº”ç”¨.</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä¼ å…¥åˆ°å­åº”ç”¨çš„æ•°æ®</span>
<span class="token keyword">const</span> initData <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> user <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨æˆ·ç›¸å…³ä¿¡æ¯</span>
  store<span class="token punctuation">,</span>
  <span class="token literal-property property">menus</span><span class="token operator">:</span> menuData<span class="token punctuation">.</span>menus<span class="token punctuation">,</span> <span class="token comment">// èœå•</span>
  <span class="token literal-property property">resources</span><span class="token operator">:</span> menuData<span class="token punctuation">.</span>resources<span class="token punctuation">,</span> <span class="token comment">// æƒé™code</span>
<span class="token punctuation">}</span>

<span class="token literal-property property">props</span><span class="token operator">:</span> initData
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æ³¨æ„äº†ï¼Œè¿™é‡ŒæŠŠä¸»åº”ç”¨çš„<code>store</code>å¯¹è±¡ä¼ å‡ºå»äº†ï¼Œå­åº”ç”¨æ‹¿åˆ°ä¸»åº”ç”¨çš„<code>store</code>å¯¹è±¡ï¼Œéœ€è¦æ—¶æ‰§è¡Œ<code>store.dispatch</code>ï¼Œä¸»åº”ç”¨é€šè¿‡<code>Vuexï¼šAction --&gt; Mutation</code>çš„å½¢å¼æ¥ä¿®æ”¹æ•°æ®å³å¯ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™éƒ¨åˆ†ä»£ç åœ¨å­åº”ç”¨ä¸­æ‰§è¡Œã€‚äº‹å®ä¸Šï¼Œä¸ºäº†é¿å…å­åº”ç”¨ä»¬ä»£ç å†—ä½™ï¼Œä¼šæŠŠè¿™éƒ¨åˆ†é€»è¾‘å°è£…åˆ°NpmåŒ…ä¸­ï¼ŒæŠ›å‡ºå‡½æ•°ç»™å­åº”ç”¨ä½¿ç”¨</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  <span class="token literal-property property">moduleId</span><span class="token operator">:</span> detail<span class="token punctuation">,</span>
  <span class="token literal-property property">redPointNum</span><span class="token operator">:</span> count
<span class="token punctuation">}</span><span class="token punctuation">]</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'redPoint/setCounts'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_3-æ³¨å†Œå­åº”ç”¨"><a href="#_3-æ³¨å†Œå­åº”ç”¨" class="header-anchor">#</a> 3. æ³¨å†Œå­åº”ç”¨</h2> <p>å…ˆåˆå§‹åŒ–ä¸»åº”ç”¨ï¼Œå†åœ¨ä¸»åº”ç”¨ä¸­æ³¨å†Œå­åº”ç”¨ã€‚</p> <details class="custom-block details"><summary>DETAILS</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è·å–å­åº”ç”¨åˆ—è¡¨</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">appCode</span><span class="token operator">:</span> <span class="token string">&quot;cms&quot;</span>
  <span class="token literal-property property">appName</span><span class="token operator">:</span> <span class="token string">&quot;cms&quot;</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;1280077660296974336&quot;</span>
  <span class="token literal-property property">route</span><span class="token operator">:</span> <span class="token string">&quot;/cms&quot;</span>
  <span class="token literal-property property">siteUrl</span><span class="token operator">:</span> <span class="token string">&quot;//manager-test.61info.cn/index.html&quot;</span>
  <span class="token literal-property property">versionAddress</span><span class="token operator">:</span> <span class="token string">&quot;//manager-test.61info.cn/index.html&quot;</span>
  <span class="token literal-property property">versionCode</span><span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token literal-property property">versionName</span><span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></details> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// render.tsx</span>
<span class="token keyword">function</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">appContent</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">loading</span><span class="token operator">:</span> boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> Vue <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> render <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token literal-property property">app</span><span class="token operator">:</span> Vue
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> appContent<span class="token punctuation">,</span> loading <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>appContent<span class="token punctuation">,</span> loading<span class="token punctuation">)</span>
    <span class="token keyword">return</span> app
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// index.tsx</span>
<span class="token keyword">function</span> <span class="token function">activeRule</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">routerPrefix</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>routerPrefix<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®ä¾‹åŒ–ä¸»åº”ç”¨</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">appContent</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">setApps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> appsData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchUserApps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>list <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">// è·å–åˆ°ç”¨æˆ·çš„èœå•å’Œæƒé™</span>
  <span class="token keyword">const</span> menuData <span class="token operator">=</span> <span class="token keyword">await</span> MenuStore<span class="token punctuation">.</span><span class="token function">fetchMenus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// ä¼ å…¥åˆ°å­åº”ç”¨çš„æ•°æ®</span>
  <span class="token keyword">const</span> initData <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> user <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    store<span class="token punctuation">,</span>
    <span class="token literal-property property">menus</span><span class="token operator">:</span> menuData<span class="token punctuation">.</span>menus<span class="token punctuation">,</span> <span class="token comment">// èœå•åˆ—è¡¨</span>
    <span class="token literal-property property">resources</span><span class="token operator">:</span> menuData<span class="token punctuation">.</span>resources<span class="token punctuation">,</span> <span class="token comment">// æŒ‰é’®æƒé™codeåˆ—è¡¨</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> microAppSettings <span class="token operator">=</span> appsData<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> app</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> app<span class="token punctuation">.</span>appName<span class="token punctuation">,</span>
      <span class="token literal-property property">entry</span><span class="token operator">:</span> app<span class="token punctuation">.</span>siteUrl<span class="token punctuation">,</span>
      <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">'#appContainer'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">props</span><span class="token operator">:</span> initData<span class="token punctuation">,</span>
      <span class="token literal-property property">activeRule</span><span class="token operator">:</span> <span class="token function">activeRule</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>route<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token keyword">return</span> list
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
   
  <span class="token function">registerMicroApps</span><span class="token punctuation">(</span>microAppSettings<span class="token punctuation">)</span>
  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">prefetch</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">setApps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="_4-æ¥å…¥"><a href="#_4-æ¥å…¥" class="header-anchor">#</a> 4. æ¥å…¥</h2> <p>å¾®åº”ç”¨éœ€è¦åœ¨è‡ªå·±çš„å…¥å£ js (é€šå¸¸å°±æ˜¯ä½ é…ç½®çš„ webpack çš„ entry js) å¯¼å‡º <code>bootstrap</code>ã€<code>mount</code>ã€<code>unmount</code> ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä»¥ä¾›ä¸»åº”ç”¨åœ¨é€‚å½“çš„æ—¶æœºè°ƒç”¨</p> <ul><li>bootstrap: åªä¼šåœ¨å­åº”ç”¨åˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ï¼Œå†è¿›å…¥å­åº”ç”¨æ—¶ï¼Œä¸ä¼šå†æ¬¡è§¦å‘</li> <li>mount: æ¯æ¬¡è¿›å…¥éƒ½ä¼šè°ƒç”¨ mount æ–¹æ³•ï¼Œè¿™é‡Œè§¦å‘åº”ç”¨çš„æ¸²æŸ“æ–¹æ³•</li> <li>unmount: åº”ç”¨æ¯æ¬¡ åˆ‡å‡º/å¸è½½ ä¼šè°ƒç”¨çš„æ–¹æ³•ï¼Œé€šå¸¸åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šå¸è½½å¾®åº”ç”¨çš„åº”ç”¨å®ä¾‹</li></ul> <p>registerå‡½æ•°ï¼Œä¸ºå­åº”ç”¨æä¾›æ³¨å†Œã€‚å…¼å®¹qiankunå’Œéqiankunä¸‹çš„ç‹¬ç«‹è¿è¡Œã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å­åº”ç”¨</span>
<span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    router<span class="token punctuation">,</span>
    store<span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ä¸‹é¢çš„ä»£ç å°è£…åˆ°npmä¾›å­åº”ç”¨ä»¬ä½¿ç”¨</span>
<span class="token keyword">let</span> <span class="token literal-property property">appRender</span><span class="token operator">:</span> <span class="token function-variable function">Function</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'please run register method to init app'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token operator">?</span><span class="token operator">:</span> MicroParams</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Function<span class="token punctuation">,</span> <span class="token literal-property property">conf</span><span class="token operator">:</span> MicroConf <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> Function <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
	options <span class="token operator">=</span> conf
  <span class="token comment">// appRender()è¿”å›ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«å¸è½½å¾®åº”ç”¨çš„é€»è¾‘</span>
  appRender <span class="token operator">=</span> render
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token function">getParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> user <span class="token operator">=</span> params<span class="token punctuation">.</span>user
    <span class="token comment">// è‡ªåŠ¨æ›´æ–°æœ¬åœ°ç¼“å­˜</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>accessToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'accessToken'</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>accessToken<span class="token punctuation">)</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'loginInfo'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token literal-property property">microProps</span><span class="token operator">:</span>MicroParams <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      params<span class="token punctuation">,</span> 
      <span class="token punctuation">{</span>
        <span class="token literal-property property">menus</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">resources</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">render</span><span class="token punctuation">(</span>microProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> MicroParams</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	options<span class="token punctuation">.</span>mount <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
  unmountAppCallback <span class="token operator">=</span> <span class="token function">appRender</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// options.unmount &amp;&amp; options.unmount()</span>
	unmountAppCallback <span class="token operator">&amp;&amp;</span> <span class="token function">unmountAppCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child app unmount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="qiankun"><a href="#qiankun" class="header-anchor">#</a> qiankun</h2> <p>HTML Entry æ˜¯ç”±<code>import-html-entry</code>åº“å®ç°çš„ï¼Œé€šè¿‡ http è¯·æ±‚åŠ è½½æŒ‡å®šåœ°å€çš„é¦–å±å†…å®¹å³ html é¡µé¢ï¼Œç„¶åè§£æè¿™ä¸ª html æ¨¡ç‰ˆå¾—åˆ° template, scripts , entry, styles</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  template<span class="token operator">:</span> ç»è¿‡å¤„ç†çš„è„šæœ¬ï¼Œlinkã€script æ ‡ç­¾éƒ½è¢«æ³¨é‡Šæ‰äº†<span class="token punctuation">,</span>
  scripts<span class="token operator">:</span> <span class="token punctuation">[</span>è„šæœ¬çš„httpåœ°å€ æˆ–è€… <span class="token punctuation">{</span> async<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> src<span class="token operator">:</span> xx <span class="token punctuation">}</span> æˆ–è€… ä»£ç å—<span class="token punctuation">]</span><span class="token punctuation">,</span>
  styles<span class="token operator">:</span> <span class="token punctuation">[</span>æ ·å¼çš„httpåœ°å€<span class="token punctuation">]</span><span class="token punctuation">,</span>
 	entry<span class="token operator">:</span> å…¥å£è„šæœ¬çš„åœ°å€ï¼Œè¦ä¸æ˜¯æ ‡æœ‰ entry çš„ script çš„ srcï¼Œè¦ä¸å°±æ˜¯æœ€åä¸€ä¸ª script æ ‡ç­¾çš„ src
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ç„¶åè¿œç¨‹åŠ è½½ styles ä¸­çš„æ ·å¼å†…å®¹ï¼Œå°† template æ¨¡ç‰ˆä¸­æ³¨é‡Šæ‰çš„ link æ ‡ç­¾æ›¿æ¢ä¸ºç›¸åº”çš„ style å…ƒç´ ã€‚</p> <p><img src="/assets/img/36.09b4ff5c.png" alt="html entry"></p> <ol><li>ä¸ºä»€ä¹ˆè¦ç”¨å¾®å‰ç«¯ï¼Ÿ</li></ol> <p>ä½¿ç”¨å¾®å‰ç«¯é¡¹ç›®ç»Ÿä¸€æ¥å…¥å„ä¸ªåå°é¡¹ç›®ï¼Œé€šè¿‡é…ç½®ï¼Œèƒ½ç›´æ¥åœ¨å¾®å‰ç«¯é¡¹ç›®å¿«é€Ÿè®¿é—®å„ä¸ªåå°ä¸šåŠ¡</p> <ol start="2"><li>æ€ä¹ˆå¤„ç†æ ·å¼éš”ç¦»ï¼Ÿ</li></ol> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/Using_shadow_DOM" target="_blank" rel="noopener noreferrer">Shadow DOM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>scopedCSS</li></ul> <p><a href="https://qiankun.umijs.org/zh/api#startopts" target="_blank" rel="noopener noreferrer">start(opts?)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> APIæœ‰ä¸ª<code>sandbox</code>å±æ€§, <code>boolean | { strictStyleIsolation?: boolean, experimentalStyleIsolation?: boolean }</code></p> <p>å½“é…ç½®ä¸º { strictStyleIsolation: true } æ—¶è¡¨ç¤ºå¼€å¯ä¸¥æ ¼çš„æ ·å¼éš”ç¦»æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼ä¸‹ qiankun ä¼šä¸ºæ¯ä¸ªå¾®åº”ç”¨çš„å®¹å™¨åŒ…è£¹ä¸Šä¸€ä¸ª shadow dom èŠ‚ç‚¹ï¼Œä»è€Œç¡®ä¿å¾®åº”ç”¨çš„æ ·å¼ä¸ä¼šå¯¹å…¨å±€é€ æˆå½±å“</p> <p>å½“ experimentalStyleIsolation è¢«è®¾ç½®ä¸º true æ—¶ï¼Œqiankun ä¼šæ”¹å†™å­åº”ç”¨æ‰€æ·»åŠ çš„æ ·å¼ä¸ºæ‰€æœ‰æ ·å¼è§„åˆ™å¢åŠ ä¸€ä¸ªç‰¹æ®Šçš„é€‰æ‹©å™¨è§„åˆ™æ¥é™å®šå…¶å½±å“èŒƒå›´ï¼Œå› æ­¤æ”¹å†™åçš„ä»£ç ä¼šè¡¨è¾¾ç±»ä¼¼ä¸ºå¦‚ä¸‹ç»“æ„</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å‡è®¾åº”ç”¨åæ˜¯ react16</span>
<span class="token punctuation">.</span>app<span class="token operator">-</span>main <span class="token punctuation">{</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

div<span class="token punctuation">[</span>data<span class="token operator">-</span>qiankun<span class="token operator">-</span>react16<span class="token punctuation">]</span> <span class="token punctuation">.</span>app<span class="token operator">-</span>main <span class="token punctuation">{</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-æ€ä¹ˆå¤„ç†jséš”ç¦»"><a href="#_3-æ€ä¹ˆå¤„ç†jséš”ç¦»" class="header-anchor">#</a> 3. æ€ä¹ˆå¤„ç†JSéš”ç¦»ï¼Ÿ</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> useLooseSandbox <span class="token operator">=</span> <span class="token keyword">typeof</span> sandbox <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>sandbox<span class="token punctuation">.</span>loose<span class="token punctuation">;</span>
<span class="token comment">// src/sandbox/index.ts</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createSandboxContainer</span><span class="token punctuation">(</span>
  <span class="token literal-property property">appName</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
  <span class="token function-variable function">elementGetter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> HTMLElement <span class="token operator">|</span> ShadowRoot<span class="token punctuation">,</span>
  <span class="token literal-property property">scopedCSS</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  useLooseSandbox<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  excludeAssetFilter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">url</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> boolean<span class="token punctuation">,</span>
  globalContext<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">typeof</span> window<span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token literal-property property">sandbox</span><span class="token operator">:</span> SandBox<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>Proxy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sandbox <span class="token operator">=</span> useLooseSandbox <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">LegacySandbox</span><span class="token punctuation">(</span>appName<span class="token punctuation">,</span> globalContext<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ProxySandbox</span><span class="token punctuation">(</span>appName<span class="token punctuation">,</span> globalContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    sandbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SnapshotSandbox</span><span class="token punctuation">(</span>appName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>æµè§ˆå™¨ä¸æ”¯æŒProxyï¼Œä½¿ç”¨<code>SnapshotSandbox</code>å¿«ç…§æ²™ç®±ï¼›æ”¯æŒProxyçš„è¯ï¼Œé»˜è®¤ä½¿ç”¨<code>ProxySandbox</code>ã€‚å¦‚æœsandboxé…ç½®looseï¼Œæ‰ç”¨<code>LegacySandbox</code>æ²™ç®±ï¼Œä¸è¿‡å®˜æ–¹æ–‡æ¡£æ²¡æœ‰looseçš„è¯´æ˜ã€‚</p> <p><img src="/assets/img/37.002dc270.png" alt="proxy_sandbox"></p> <h3 id="snapshotsandboxå¿«ç…§æ²™ç®±"><a href="#snapshotsandboxå¿«ç…§æ²™ç®±" class="header-anchor">#</a> SnapshotSandboxå¿«ç…§æ²™ç®±</h3> <ol><li>æ¿€æ´»æ—¶ä¿å­˜windowå¿«ç…§ä¿¡æ¯åˆ°windowSnapshotï¼ŒmodifyPropsMapä¿å­˜æ¿€æ´»æœŸé—´ä¿®æ”¹çš„ä¿¡æ¯ï¼Œ</li> <li>å¦‚æœmodifyPropsMapæœ‰æ•°æ®ï¼Œéœ€è¦æŠŠwindowè¿˜åŸåˆ°ä¸Šæ¬¡çš„çŠ¶æ€ï¼›æ¿€æ´»æœŸé—´å¯ä»¥ä¿®æ”¹windowçš„æ•°æ®ï¼›</li> <li>é€€å‡ºæ¿€æ´»çŠ¶æ€ï¼Œå¯¹æ¯”windowå’Œå¿«ç…§windowSnapshotï¼ŒæŠŠä¿®æ”¹çš„ä¿¡æ¯å­˜åˆ°modifyPropsMapï¼Œå¹¶è¿˜åŸwindowçš„çŠ¶æ€ï¼Œå³windowSanpshotçš„çŠ¶æ€</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">iter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">window<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> prop <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">SnapshotSandbox</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>proxy <span class="token operator">=</span> window<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modifyPropsMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// æ¿€æ´»æ²™ç®±</span>
  <span class="token function">active</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç¼“å­˜activeçŠ¶æ€çš„window</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>windowSnapshot <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">iter</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">prop</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>windowSnapshot<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modifyPropsMap<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modifyPropsMap<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// é€€å‡ºæ²™ç®±</span>
  <span class="token function">inactive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">iter</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">prop</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>windowSnapshot<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">!==</span> window<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è®°å½•å˜æ›´</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modifyPropsMap<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿˜åŸwindow</span>
        window<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>windowSnapshot<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>snapshotSandboxä¼šæ±¡æŸ“å…¨å±€windowï¼Œä½†æ˜¯å¯ä»¥æ”¯æŒä¸å…¼å®¹Proxyçš„æµè§ˆå™¨</p> <h3 id="legacysandbox"><a href="#legacysandbox" class="header-anchor">#</a> LegacySandbox</h3> <p>LegacySandboxä½¿ç”¨ä¸‰æ¬¡å‚æ•°æ¥è®°å½•ï¼Œå®ç°æ¶ˆæ¯JSæ²™ç®±</p> <ul><li>addedPropsMapInSandbox: è®°å½•æ–°å¢çš„å±æ€§å…¨å±€</li> <li>modifiedPropsOriginalValueMapInSandboxï¼šè®°å½•ä¿®æ”¹çš„å±æ€§çš„åˆå§‹å€¼ã€‚</li> <li>currentUpdatedPropsValueMapï¼šè®°å½•æ¿€æ´»çŠ¶æ€ä¸‹ä¿®æ”¹å±æ€§çš„æœ€ç»ˆå€¼ï¼Œå³å±æ€§å¤šæ¬¡ä¿®æ”¹ï¼Œè®°å½•æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ•°æ®</li></ul> <details class="custom-block details"><summary>DETAILS</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Legacy</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ²™ç®±æœŸé—´æ–°å¢çš„å…¨å±€å˜é‡</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>addedPropsMapInSandbox <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// æ²™ç®±æœŸé—´æ›´æ–°çš„å…¨å±€å˜é‡</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modifiedPropsOriginalValueMapInSandbox <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// æŒç»­è®°å½•æ›´æ–°çš„(æ–°å¢å’Œä¿®æ”¹çš„)å…¨å±€å˜é‡çš„ mapï¼Œç”¨äºåœ¨ä»»æ„æ—¶åˆ»åš snapshot</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>currentUpdatedPropsValueMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> rawWindow <span class="token operator">=</span> window<span class="token punctuation">;</span>
    <span class="token keyword">const</span> fakeWindow <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>fakeWindow<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¦‚æœæ˜¯æ¿€æ´»çŠ¶æ€</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// åˆ¤æ–­å½“å‰windowä¸Šå­˜ä¸å­˜åœ¨è¯¥å±æ€§</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>rawWindow<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è®°å½•æ–°å¢å€¼</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>addedPropsMapInSandbox<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>modifiedPropsOriginalValueMapInSandbox<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è®°å½•æ›´æ–°å€¼çš„åˆå§‹å€¼</span>
            <span class="token keyword">const</span> originValue <span class="token operator">=</span> rawWindow<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>modifiedPropsOriginalValueMapInSandbox<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> originValue<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// çºªå½•æ­¤æ¬¡ä¿®æ”¹çš„å±æ€§</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>currentUpdatedPropsValueMap<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
          <span class="token comment">// å°†è®¾ç½®çš„å±æ€§å’Œå€¼èµ‹ç»™äº†å½“å‰windowï¼Œè¿˜æ˜¯æ±¡æŸ“äº†å…¨å±€windowå˜é‡</span>
          rawWindow<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> rawWindow<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>proxy <span class="token operator">=</span> proxy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">active</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¿˜åŸä¸Šæ¬¡ä¿®æ”¹çš„å€¼</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUpdatedPropsValueMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentUpdatedPropsValueMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">inactive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°†æ›´æ–°å€¼çš„åˆå§‹å€¼è¿˜åŸç»™window</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modifiedPropsOriginalValueMapInSandbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modifiedPropsOriginalValueMapInSandbox<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å°†æ–°å¢çš„å€¼åˆ æ‰</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>addedPropsMapInSandbox<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> window<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div></details> <p>åŒæ ·ä¼šå¯¹windowé€ æˆæ±¡æŸ“ï¼Œä½†æ˜¯æ€§èƒ½æ¯”å¿«ç…§æ²™ç®±å¥½ï¼Œä¸ç”¨éå†windowå¯¹è±¡</p> <h3 id="proxysandboxä»£ç†æ²™ç®±"><a href="#proxysandboxä»£ç†æ²™ç®±" class="header-anchor">#</a> ProxySandboxä»£ç†æ²™ç®±</h3> <ul><li>æ¿€æ´»æ²™ç®±åï¼Œæ¯æ¬¡å¯¹windowå–å€¼çš„æ—¶å€™ï¼Œå…ˆä»è‡ªå·±æ²™ç®±ç¯å¢ƒçš„fakeWindowé‡Œé¢æ‰¾ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä»rawWindow(å¤–éƒ¨çš„window)é‡Œå»æ‰¾ï¼›</li> <li>å½“å¯¹æ²™ç®±å†…éƒ¨çš„windowå¯¹è±¡èµ‹å€¼çš„æ—¶å€™ï¼Œä¼šç›´æ¥æ“ä½œfakeWindowï¼Œè€Œä¸ä¼šå½±å“åˆ°rawWindow
<img src="/assets/img/38.6adcd121.png" alt="proxySandbox"></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">ProxySandbox</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> rawWindow <span class="token operator">=</span> window
    <span class="token keyword">const</span> fakeWindow <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>fakeWindow<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> value <span class="token operator">=</span> prop <span class="token keyword">in</span> target <span class="token operator">?</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">:</span> rawWindow<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
        <span class="token keyword">return</span> value
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// setä»£ç†åº”å½“è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œsetä»£ç†å¦‚æœæ²¡æœ‰è¿”å›trueï¼Œå°±ä¼šæŠ¥é”™</span>
      <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value
          <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>proxy <span class="token operator">=</span> proxy
  <span class="token punctuation">}</span>
  <span class="token function">active</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token function">inactive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sandboxRunning <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµ‹è¯•</span>
  window<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'ç”·'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> proxy1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProxySandbox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> proxy2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProxySandbox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">window</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    proxy1<span class="token punctuation">.</span><span class="token function">active</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹å‰proxy1çš„sex'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'å¥³'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹åproxy1çš„sex'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>proxy1<span class="token punctuation">.</span>proxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å¤–éƒ¨window.sex=&gt;1'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">window</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    proxy2<span class="token punctuation">.</span><span class="token function">active</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹å‰proxy2çš„sex'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'111'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¿®æ”¹åproxy2çš„sex'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>proxy2<span class="token punctuation">.</span>proxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å¤–éƒ¨window.sex=&gt;2'</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p><img src="data:image/png;base64,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" alt="proxy"></p> <p>ä¸ä¼šæ±¡æŸ“å…¨å±€windowï¼Œæ”¯æŒå¤šä¸ªå­åº”ç”¨åŒæ—¶åŠ è½½ã€‚å…­ä¸€å·¥ä½œå°çš„å¾®å‰ç«¯JSéš”ç¦»æ˜¯ç”¨ProxySandboxæ–¹æ¡ˆ</p> <h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <p>å‚è€ƒ:
<a href="https://juejin.cn/post/6885211340999229454#heading-39" target="_blank" rel="noopener noreferrer">å¾®å‰ç«¯æ¡†æ¶ ä¹‹ qiankun ä»å…¥é—¨åˆ°æºç åˆ†æ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6885212507837825038#heading-3" target="_blank" rel="noopener noreferrer">HTML Entry æºç åˆ†æ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6981374562877308936" target="_blank" rel="noopener noreferrer">è¯´è¯´å¾®å‰ç«¯JSæ²™ç®±å®ç°çš„å‡ ç§æ–¹å¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6920110573418086413#heading-0" target="_blank" rel="noopener noreferrer">15åˆ†é’Ÿå¿«é€Ÿç†è§£qiankunçš„jsæ²™ç®±åŸç†åŠå…¶å®ç°<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/2/2021, 4:44:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/project/B/sso-login.html" class="prev">
        å•ç‚¹ç™»å½•
      </a></span> <span class="next"><a href="/project/H5/common-login-h5.html">
        ç»Ÿä¸€ç™»é™†
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e8c3aa62.js" defer></script><script src="/assets/js/2.1d5e0d04.js" defer></script><script src="/assets/js/18.5e0519af.js" defer></script>
  </body>
</html>
